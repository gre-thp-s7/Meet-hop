!function(w,b,k){function n(t,n){this.element=t,this.options=w.extend({},i,n),this._defaults=i,this._name=e,this.init()}var e="accordion",i={transitionSpeed:300,transitionEasing:"ease",controlElement:"[data-control]",contentElement:"[data-content]",groupElement:"[data-accordion-group]",singleOpen:!0};n.prototype.init=function(){function t(i,a,o){var s;return function r(){function t(){o||i.apply(n,e),s=null}var n=this,e=arguments;s?clearTimeout(s):o&&i.apply(n,e),s=setTimeout(t,a||100)}}function n(){var t=(k.body||k.documentElement).style,n="transition";if("string"==typeof t[n])return!0;var e=["Moz","webkit","Webkit","Khtml","O","ms"];n="Transition";for(var i=0;i<e.length;i++)if("string"==typeof t[e[i]+n])return!0;return!1}function e(t){b.requestAnimationFrame?requestAnimationFrame(t):b.webkitRequestAnimationFrame?webkitRequestAnimationFrame(t):b.mozRequestAnimationFrame?mozRequestAnimationFrame(t):setTimeout(t,1e3/60)}function i(t,n){n?v.css({"-webkit-transition":"",transition:""}):v.css({"-webkit-transition":"max-height "+m.transitionSpeed+"ms "+m.transitionEasing,transition:"max-height "+m.transitionSpeed+"ms "+m.transitionEasing})}function a(t){var n=0;t.children().each(function(){n+=w(this).outerHeight(!0)}),t.data("oHeight",n)}function o(t,n,e,i){var a,o=t.filter(".open").find("> [data-content]"),s=o.find("[data-accordion].open > [data-content]");m.singleOpen||(s=s.not(n.siblings("[data-accordion].open").find("> [data-content]"))),a=o.add(s),t.hasClass("open")&&a.each(function(){var t=w(this).data("oHeight");switch(i){case"+":w(this).data("oHeight",t+e);break;case"-":w(this).data("oHeight",t-e);break;default:throw"updateParentHeight method needs an operation"}w(this).css("max-height",w(this).data("oHeight"))})}function s(t){if(t.hasClass("open")){var n=t.find("> [data-content]"),e=n.find("[data-accordion].open > [data-content]"),i=n.add(e);a(i),i.css("max-height",i.data("oHeight"))}}function r(t,n){if(t.trigger("accordion.close"),x){if(E)o(t.parents("[data-accordion]"),t,n.data("oHeight"),"-");n.css(H),t.removeClass("open")}else n.css("max-height",n.data("oHeight")),n.animate(H,m.transitionSpeed),t.removeClass("open")}function c(t,n){if(t.trigger("accordion.open"),x){if(i(n),E)o(t.parents("[data-accordion]"),t,n.data("oHeight"),"+");e(function(){n.css("max-height",n.data("oHeight"))}),t.addClass("open")}else n.animate({"max-height":n.data("oHeight")},m.transitionSpeed,function(){n.css({"max-height":"none"})}),t.addClass("open")}function d(t){t.closest(m.groupElement);var n=t.siblings("[data-accordion]").filter(".open"),e=n.find("[data-accordion]").filter(".open"),i=n.add(e);i.each(function(){var t=w(this);r(t,t.find(m.contentElement))}),i.removeClass("open")}function h(){var t=!!m.singleOpen&&0<g.parents(m.groupElement).length;a(v),t&&d(g),g.hasClass("open")?r(g,v):c(g,v)}function l(){p.on("click",h),p.on("accordion.toggle",function(){if(m.singleOpen&&1<p.length)return!1;h()}),p.on("accordion.refresh",function(){s(g)}),w(b).on("resize",t(function(){s(g)}))}function f(){v.each(function(){var t=w(this);0!=t.css("max-height")&&(t.closest("[data-accordion]").hasClass("open")?(i(t),a(t),t.css("max-height",t.data("oHeight"))):t.css({"max-height":0,overflow:"hidden"}))}),g.attr("data-accordion")||(g.attr("data-accordion",""),g.find(m.controlElement).attr("data-control",""),g.find(m.contentElement).attr("data-content",""))}var u=this,m=u.options,g=w(u.element),p=g.find("> "+m.controlElement),v=g.find("> "+m.contentElement),E=0<g.parents("[data-accordion]").length,H={"max-height":0,overflow:"hidden"},x=n();f(),l()},w.fn[e]=function(t){return this.each(function(){w.data(this,"plugin_"+e)||w.data(this,"plugin_"+e,new n(this,t))})}}(jQuery,window,document);